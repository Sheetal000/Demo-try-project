c
current_user
c
@post.update(post_params)
@post
c
@post
c
@post.errors.full_messages
@post.errors
@post
c
current_user_like
current_user_like.update(active: false)
current_user_like
current_user_like = @post.likes.find_by(user_id: current_user.id)
@post = Post.find(params[:id])
c
current_count = self.post.likes.where(active: true).size
c
current_user_like = @post.likes.find_by(user_id: current_user.id)
@post = Post.find(params[:id])
c
self.post.likes
self
current_user
c
@post.likes
current_user_like = @post.likes.find_by(user_id: current_user.id)
@post = Post.find(params[:id])
c
current_count = self.post.likes.where(active: true).size
self.post.likes.count
self.post.likes
self
post.likes.where(active: true).size
self
c
self.post.likes.where(active: true).size
current_count
c
current_count = self.post.likes.where(active: true).size
c
current_user_like.update(active: false)
c
total_count = self.active ? current_count + 1 : current_count - 1
self.active
current_count = self.post.likes.where(active: true).size
self.post.likes.count
self.post.likes
self.post
self
self.postself
c
self.active
self.post.likes.size
c
self.post.like_count
current_count = self.post.likes.count
current_count = self.post.likes
current_count = self.post.like_count.to_i
self
c
@post.likes.find_by(user_id: current_user.id)
already_liked?
c
@post.likes.where(user_id: current_user.id)
@post.likes.where(user_id: current_user.id).last.delete
@post.likes.where(user_id: current_user.id).count
@post.likes.where(user_id: current_user.id)
@post.likes.find_by(user_id: current_user.id)
c
@post.likes.find_by(user_id: current_user.id).update(active: false)
@post.likes.find_by(user_id: current_user.id)
post.likes.find_by(user_id: current_user.id)
already_liked?
c
already_liked?
c
